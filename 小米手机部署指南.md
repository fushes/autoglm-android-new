# 智谱AutoGLM 小米手机本地部署指南

## 部署概述
本指南详细说明如何将智谱AutoGLM AI Agent模型部署到小米手机上，实现AI手机助手功能。

## 系统要求
- 小米手机（Android 8.0+）
- 至少4GB RAM
- 2GB可用存储空间
- 开启开发者选项和USB调试

## 部署步骤

### 1. 准备开发环境
```bash
# 安装Android Studio
# 配置Android SDK
# 启用USB调试模式
```

### 2. 构建APK
```bash
# 在项目根目录执行
chmod +x build_apk.sh
./build_apk.sh
```

### 3. 安装APK到小米手机
```bash
# 连接手机到电脑
adb devices  # 确认设备连接
adb install AutoGLM-debug.apk
```

### 4. 配置应用权限
安装完成后，需要在手机上配置以下权限：

#### 4.1 基础权限
- 存储权限
- 网络权限
- 悬浮窗权限

#### 4.2 关键权限设置
1. **无障碍服务**
   - 进入"设置" → "无障碍" → "已下载的服务"
   - 启用"AutoGLM无障碍服务"

2. **屏幕捕获权限**
   - 首次启动应用时会请求权限
   - 点击"立即开始"授权屏幕捕获

3. **设备管理权限**
   - 允许应用在后台运行
   - 关闭电池优化

### 5. 模型文件部署

#### 5.1 下载模型文件
AutoGLM-Phone-9B模型文件需要手动下载：
- 模型文件：`autoglm-phone-9b.tflite`
- 词汇表：`vocab.txt`

#### 5.2 放置模型文件
将模型文件复制到手机存储：
```
/sdcard/AutoGLM/models/
├── autoglm-phone-9b.tflite
└── vocab.txt
```

### 6. 启动和使用

#### 6.1 启动应用
1. 打开"智谱AutoGLM"应用
2. 点击"启动服务"按钮
3. 等待模型加载完成

#### 6.2 执行任务
在输入框中输入自然语言指令，例如：
- "打开微信"
- "给张三发消息说你好"
- "查看今天的天气"
- "设置早上7点的闹钟"

## 故障排除

### 常见问题

#### 1. 权限问题
**问题**: 应用无法获取屏幕内容
**解决**: 
- 重新检查无障碍服务设置
- 重启应用并重新授权

#### 2. 模型加载失败
**问题**: 模型文件找不到或加载错误
**解决**:
- 检查模型文件路径是否正确
- 确认文件完整性

#### 3. 性能问题
**问题**: 应用运行缓慢
**解决**:
- 关闭其他后台应用
- 确保手机有足够内存

### 调试模式
启用调试日志：
```bash
adb logcat | grep AutoGLM
```

## 安全注意事项

1. **隐私保护**: AutoGLM在本地运行，数据不会上传到云端
2. **权限控制**: 只授予必要的权限
3. **使用限制**: 不要用于非法或恶意用途

## 技术架构

### 核心组件
1. **AutoGLM模型**: 9B参数的视觉-语言模型
2. **屏幕捕获**: 实时获取手机屏幕内容
3. **无障碍服务**: 执行点击、滑动等操作
4. **任务解析**: 将自然语言转换为具体动作

### 工作流程
```
用户输入 → 模型理解 → 屏幕分析 → 动作执行 → 结果反馈
```

## 后续开发

### 功能扩展
- 支持更多应用和任务
- 优化模型性能
- 增加语音交互
- 支持多语言

### 性能优化
- 模型量化
- 推理加速
- 内存优化

## 技术支持

如有问题，请参考：
- GitHub仓库: https://github.com/zai-org/Open-AutoGLM
- 官方文档: https://arxiv.org/abs/2411.00820

---
*最后更新: 2024年12月*
*版本: v1.0*